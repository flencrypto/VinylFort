<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>VinylVault Pro - eBay Listing Generator</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://imgbb.com/upload.js" async></script>
    <!-- Preload critical resources -->
    <link rel="preload" href="components/vinyl-nav.js" as="script" />
    <link rel="preload" href="components/vinyl-footer.js" as="script" />
    <link rel="dns-prefetch" href="//fonts.googleapis.com" />
    <link rel="dns-prefetch" href="//imgbb.com" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Cormorant+Garamond:wght@500;600;700&display=swap" rel="stylesheet" />
    <script>
      if (typeof tailwind !== "undefined") {
        tailwind.config = {
          darkMode: "class",
          theme: {
            extend: {
              fontFamily: {
                sans: ['Inter', 'system-ui', 'sans-serif'],
                serif: ['Cormorant Garamond', 'Georgia', 'serif'],
              },
              colors: {
                primary: "#c8973f",
                secondary: "#8a6e52",
                accent: "#e8c06a",
                surface: "#0e0c0b",
                "surface-light": "#1a1613",
              },
            },
          },
        };
      }
    </script>
  </head>
  <body class="bg-surface text-gray-100 min-h-screen">
    <a href="#main-content" class="skip-link">Skip to content</a>
    <!-- Navigation -->
    <vinyl-nav></vinyl-nav>

    <!-- Collection Import Banner -->
    <div
      id="collectionBanner"
      class="hidden fixed top-16 left-0 right-0 z-40 bg-gradient-to-r from-primary/20 to-purple-600/20 border-b border-primary/30 backdrop-blur-sm"
    >
      <div
        class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between"
      >
        <div class="flex items-center gap-3">
          <i data-feather="database" class="w-5 h-5 text-primary"></i>
          <span class="text-sm text-gray-200"
            >Loading record from your collection...</span
          >
        </div>
        <button
          onclick="clearCollectionImport()"
          class="text-sm text-gray-400 hover:text-white flex items-center gap-1"
        >
          <i data-feather="x" class="w-4 h-4"></i>
          Clear
        </button>
      </div>
    </div>
    <!-- Main Content -->
    <main id="main-content" class="pt-20 pb-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
      <!-- Hero Section -->
      <section class="mb-12 text-center">
        <div
          class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/30 mb-6"
        >
          <i data-feather="disc" class="w-4 h-4 text-primary"></i>
          <span class="text-sm font-medium text-primary"
            >Professional eBay Listing Tool</span
          >
        </div>
        <h1
          class="text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-primary via-secondary to-accent bg-clip-text text-transparent"
        >
          VinylVault Pro
        </h1>
        <p class="text-gray-400 max-w-2xl mx-auto text-lg">
          Upload your record photos and get optimized eBay titles, pricing
          strategies, and professional HTML descriptions in minutes.
        </p>
      </section>

      <!-- Quick Stats -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-12">
        <stat-card
          icon="check-circle"
          label="Listings Generated"
          value="2,847"
          trend="+12%"
        ></stat-card>
        <stat-card
          icon="trending-up"
          label="Avg. Sale Price"
          value="Â£34.50"
          trend="+8%"
        ></stat-card>
        <stat-card
          icon="clock"
          label="Time Saved"
          value="15 min/listing"
          trend="per listing"
        ></stat-card>
      </div>

      <!-- Futuristic Features Showcase -->
      <section class="mb-12">
        <div
          class="glass-dark rounded-3xl p-8 border border-primary/20 relative overflow-hidden"
        >
          <div class="particles absolute inset-0"></div>
          <div class="relative z-10">
            <div class="text-center mb-8">
              <h2 class="text-3xl font-bold mb-4 gold-text">
                ðŸš€ Next-Gen Features
              </h2>
              <p class="text-gray-400">
                Experience the future of vinyl management
              </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
              <!-- AI Mood Analysis -->
              <div
                class="bg-surface/50 rounded-xl p-6 border border-secondary/30 hover:bronze-glow transition-all cursor-pointer group"
              >
                <div
                  class="w-12 h-12 rounded-full bg-secondary/20 flex items-center justify-center mb-4 group-hover:studio-pulse"
                >
                  <i data-feather="cpu" class="w-6 h-6 text-secondary"></i>
                </div>
                <h3 class="font-semibold mb-2">AI Mood Analysis</h3>
                <p class="text-sm text-gray-400">
                  Detect emotional vibes and genre classification from your
                  records
                </p>
                <button
                  onclick="openMoodAnalysis()"
                  class="mt-3 px-4 py-2 bg-secondary/20 rounded-lg text-secondary text-sm hover:bg-secondary/30 transition-colors"
                >
                  Analyze Now
                </button>
              </div>

              <!-- VR Preview -->
              <div
                class="bg-surface/50 rounded-xl p-6 border border-accent/30 hover:gold-glow transition-all cursor-pointer group"
              >
                <div
                  class="w-12 h-12 rounded-full bg-accent/20 flex items-center justify-center mb-4 group-hover:vinyl-rotate"
                >
                  <i data-feather="eye" class="w-6 h-6 text-accent"></i>
                </div>
                <h3 class="font-semibold mb-2">VR Listening Room</h3>
                <p class="text-sm text-gray-400">
                  Immerse yourself in virtual reality record previews
                </p>
                <button
                  onclick="openVRPreview()"
                  class="mt-3 px-4 py-2 bg-accent/20 rounded-lg text-accent text-sm hover:bg-accent/30 transition-colors"
                >
                  Enter VR
                </button>
              </div>

              <!-- Blockchain Authenticity -->
              <div
                class="bg-surface/50 rounded-xl p-6 border border-primary/30 hover:gold-glow transition-all cursor-pointer group"
              >
                <div
                  class="w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center mb-4 group-hover:holographic"
                >
                  <i data-feather="shield" class="w-6 h-6 text-primary"></i>
                </div>
                <h3 class="font-semibold mb-2">Blockchain Authenticity</h3>
                <p class="text-sm text-gray-400">
                  Verify record authenticity with crypto certificates
                </p>
                <button
                  onclick="openBlockchainAuth()"
                  class="mt-3 px-4 py-2 bg-primary/20 rounded-lg text-primary text-sm hover:bg-primary/30 transition-colors"
                >
                  Verify
                </button>
              </div>

              <!-- Quantum Analytics -->
              <div
                class="bg-surface/50 rounded-xl p-6 border border-secondary/30 hover:bronze-glow transition-all cursor-pointer group"
              >
                <div
                  class="w-12 h-12 rounded-full bg-secondary/20 flex items-center justify-center mb-4 group-hover:studio-loader"
                >
                  <i
                    data-feather="bar-chart-2"
                    class="w-6 h-6 text-secondary"
                  ></i>
                </div>
                <h3 class="font-semibold mb-2">Quantum Analytics</h3>
                <p class="text-sm text-gray-400">
                  Advanced market predictions and collection insights
                </p>
                <button
                  onclick="openQuantumAnalytics()"
                  class="mt-3 px-4 py-2 bg-secondary/20 rounded-lg text-secondary text-sm hover:bg-secondary/30 transition-colors"
                >
                  Analyze
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Upload Section -->
      <section class="mb-12">
        <div class="bg-surface-light rounded-2xl p-8 border border-gray-800">
          <div class="flex flex-col md:flex-row gap-8">
            <!-- Upload Zone -->
            <div class="flex-1">
              <h2 class="text-xl font-semibold mb-4 flex items-center gap-2">
                <i
                  data-feather="upload-cloud"
                  class="w-5 h-5 text-secondary"
                ></i>
                Upload Record Photos
              </h2>

              <!-- Progress Steps -->
              <div class="mb-6 space-y-2">
                <div id="step1" class="progress-step active">
                  <div class="step-icon bg-primary text-white">1</div>
                  <div>
                    <div class="font-medium text-sm">Upload Photos</div>
                    <div class="text-xs text-gray-500">
                      Add images of your record
                    </div>
                  </div>
                </div>
                <div id="step2" class="progress-step">
                  <div class="step-icon bg-gray-600 text-gray-400">2</div>
                  <div>
                    <div class="font-medium text-sm text-gray-400">
                      AI Analysis
                    </div>
                    <div class="text-xs text-gray-600">
                      Extract record details automatically
                    </div>
                  </div>
                </div>
                <div id="step3" class="progress-step">
                  <div class="step-icon bg-gray-600 text-gray-400">3</div>
                  <div>
                    <div class="font-medium text-sm text-gray-400">
                      Generate Listing
                    </div>
                    <div class="text-xs text-gray-600">
                      Create optimized eBay listing
                    </div>
                  </div>
                </div>
              </div>

              <!-- AI Chat Interface -->
              <ai-chat id="aiChatBox" class="mb-4"></ai-chat>

              <div
                id="dropZone"
                class="border-2 border-dashed border-gray-600 rounded-xl p-12 text-center transition-all hover:border-primary hover:bg-primary/5 cursor-pointer group relative"
              >
                <div
                  id="uploadSpinner"
                  class="absolute inset-0 bg-surface-light/90 rounded-xl flex flex-col items-center justify-center hidden z-10"
                >
                  <div
                    class="w-12 h-12 border-4 border-primary/30 border-t-primary rounded-full animate-spin mb-3"
                  ></div>
                  <p class="text-sm text-gray-400 mb-4">
                    Analyzing images with AI...
                  </p>
                  <!-- Analysis Progress Bar -->
                  <div class="w-64 max-w-[80%]">
                    <div class="flex items-center justify-between mb-2">
                      <span id="analysisStageText" class="text-xs text-gray-500"
                        >Initializing...</span
                      >
                      <span
                        id="analysisPercent"
                        class="text-xs text-primary font-medium"
                        >0%</span
                      >
                    </div>
                    <div
                      class="w-full bg-gray-700 rounded-full h-2 overflow-hidden"
                    >
                      <div
                        id="analysisBar"
                        class="bg-gradient-to-r from-primary to-secondary h-2 rounded-full transition-all duration-300 ease-out"
                        style="width: 0%"
                      ></div>
                    </div>
                  </div>
                </div>
                <div
                  class="w-16 h-16 mx-auto mb-4 rounded-full bg-gray-800 flex items-center justify-center group-hover:bg-primary/20 transition-colors"
                >
                  <i
                    data-feather="camera"
                    class="w-8 h-8 text-gray-400 group-hover:text-primary"
                  ></i>
                </div>
                <p class="text-gray-300 font-medium mb-2">
                  Drop photos here or click to browse
                </p>
                <p class="text-sm text-gray-500 mb-3">
                  Front, back, labels, deadwax, inner sleeve, inserts
                </p>
                <label for="photoInput" onclick="event.stopPropagation()"
                  class="inline-block cursor-pointer px-4 py-2 bg-primary/20 border border-primary/40 text-primary rounded-lg text-sm font-medium hover:bg-primary/30 transition-colors">
                  <i data-feather="folder" class="w-4 h-4 inline-block mr-1"></i>
                  Browse Files
                </label>
                <p
                  class="text-xs text-gray-500 mt-2 mb-1"
                >
                  or <kbd aria-label="Control plus V" class="px-1 py-0.5 bg-gray-700 rounded text-xs">Ctrl+V</kbd> / <kbd aria-label="Command plus V" class="px-1 py-0.5 bg-gray-700 rounded text-xs">âŒ˜V</kbd> to paste an image
                </p>
                <p
                  class="text-xs text-primary opacity-0 group-hover:opacity-100 transition-opacity"
                >
                  AI will auto-detect record details
                </p>
                <input
                  type="file"
                  id="photoInput"
                  multiple
                  accept="image/*"
                  class="sr-only"
                  aria-label="Upload record photos"
                  aria-describedby="photo-upload-help"
                />
                <div id="photo-upload-help" class="sr-only">
                  Upload multiple photos of your vinyl record including front
                  cover, back cover, labels, and any inserts for best AI
                  analysis results
                </div>
              </div>
              <!-- Photo Preview Grid -->
              <div
                id="photoGrid"
                class="grid grid-cols-3 sm:grid-cols-4 gap-3 mt-6 hidden"
              >
                <!-- Dynamically populated -->
              </div>
              <!-- Upload Progress -->
              <div id="uploadProgress" class="hidden mt-4">
                <div class="flex items-center justify-between mb-2">
                  <span class="text-sm text-gray-400"
                    >Uploading to image host...</span
                  >
                  <span id="uploadPercent" class="text-sm text-primary"
                    >0%</span
                  >
                </div>
                <div
                  class="w-full bg-gray-700 rounded-full h-2 overflow-hidden"
                >
                  <div
                    id="uploadBar"
                    class="bg-gradient-to-r from-primary to-purple-600 h-2 rounded-full transition-all duration-300 ease-out"
                    style="width: 0%"
                  ></div>
                </div>
              </div>
            </div>
            <!-- Quick Info Form -->
            <div class="md:w-80 space-y-4">
              <h3 class="text-lg font-medium text-gray-300">
                Quick Details (Optional)
              </h3>

              <div class="space-y-3">
                <div>
                  <div class="flex items-center mb-1">
                    <label
                      for="artistInput"
                      class="block text-sm text-gray-400 font-medium"
                      >Artist Name</label
                    >
                    <span
                      class="help-indicator tooltip"
                      tabindex="0"
                      aria-label="Help for artist field"
                      >?</span
                    >
                    <span class="tooltip-text"
                      >Enter the artist or band name exactly as it appears on
                      the record. This helps with accurate identification.</span
                    >
                  </div>
                  <input
                    type="text"
                    id="artistInput"
                    placeholder="e.g. Pink Floyd"
                    class="w-full px-3 py-2 bg-surface border border-gray-700 rounded-lg focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 text-sm transition-all"
                    aria-describedby="artist-help"
                  />
                  <div id="artist-help" class="sr-only">
                    Enter the artist or band name as it appears on the record
                  </div>
                </div>

                <div>
                  <div class="flex items-center mb-1">
                    <label
                      for="titleInput"
                      class="block text-sm text-gray-400 font-medium"
                      >Album Title</label
                    >
                    <span
                      class="help-indicator tooltip"
                      tabindex="0"
                      aria-label="Help for title field"
                      >?</span
                    >
                    <span class="tooltip-text"
                      >Enter the album title exactly as shown on the cover.
                      Include subtitles if present.</span
                    >
                  </div>
                  <input
                    type="text"
                    id="titleInput"
                    placeholder="e.g. The Dark Side of the Moon"
                    class="w-full px-3 py-2 bg-surface border border-gray-700 rounded-lg focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 text-sm transition-all"
                    aria-describedby="title-help"
                  />
                  <div id="title-help" class="sr-only">
                    Enter the album or record title as it appears on the cover
                  </div>
                </div>

                <div class="grid grid-cols-2 gap-3">
                  <div>
                    <label
                      for="catInput"
                      class="block text-sm text-gray-400 mb-1 font-medium"
                      >Catalogue #</label
                    >
                    <input
                      type="text"
                      id="catInput"
                      placeholder="e.g. SHVL 804"
                      class="w-full px-3 py-2 bg-surface border border-gray-700 rounded-lg focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 text-sm transition-all"
                      aria-describedby="cat-help"
                    />
                    <div id="cat-help" class="sr-only">
                      Enter the catalogue or matrix number found on the record
                      label
                    </div>
                  </div>
                  <div>
                    <label
                      for="yearInput"
                      class="block text-sm text-gray-400 mb-1 font-medium"
                      >Release Year</label
                    >
                    <input
                      type="text"
                      id="yearInput"
                      placeholder="1973"
                      class="w-full px-3 py-2 bg-surface border border-gray-700 rounded-lg focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 text-sm transition-all"
                      aria-describedby="year-help"
                    />
                    <div id="year-help" class="sr-only">
                      Enter the year the record was originally released
                    </div>
                  </div>
                </div>

                <div class="grid grid-cols-2 gap-3">
                  <div>
                    <label
                      for="matrixSideAInput"
                      class="block text-sm text-gray-400 mb-1 font-medium"
                      >Matrix Side A</label
                    >
                    <input
                      type="text"
                      id="matrixSideAInput"
                      placeholder="e.g. SHVL 804 A-2"
                      class="w-full px-3 py-2 bg-surface border border-gray-700 rounded-lg focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 text-sm transition-all"
                      aria-describedby="matrix-a-help"
                    />
                    <div id="matrix-a-help" class="sr-only">
                      Enter the exact matrix or runout inscription from side A
                    </div>
                  </div>
                  <div>
                    <label
                      for="matrixSideBInput"
                      class="block text-sm text-gray-400 mb-1 font-medium"
                      >Matrix Side B</label
                    >
                    <input
                      type="text"
                      id="matrixSideBInput"
                      placeholder="e.g. SHVL 804 B-2"
                      class="w-full px-3 py-2 bg-surface border border-gray-700 rounded-lg focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 text-sm transition-all"
                      aria-describedby="matrix-b-help"
                    />
                    <div id="matrix-b-help" class="sr-only">
                      Enter the exact matrix or runout inscription from side B
                    </div>
                  </div>
                </div>

                <div>
                  <label
                    for="costInput"
                    class="block text-sm text-gray-400 mb-1 font-medium"
                    >Purchase Price (Â£)</label
                  >
                  <input
                    type="number"
                    id="costInput"
                    placeholder="0.00"
                    step="0.01"
                    min="0"
                    class="w-full px-3 py-2 bg-surface border border-gray-700 rounded-lg focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 text-sm transition-all"
                    aria-describedby="cost-help"
                  />
                  <div id="cost-help" class="sr-only">
                    Enter the amount you paid for the record in pounds sterling
                  </div>
                </div>

                <div>
                  <label
                    for="dateBoughtInput"
                    class="block text-sm text-gray-400 mb-1 font-medium"
                    >Date Bought</label
                  >
                  <input
                    type="date"
                    id="dateBoughtInput"
                    class="w-full px-3 py-2 bg-surface border border-gray-700 rounded-lg focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 text-sm transition-all"
                    aria-describedby="days-help"
                  />
                  <p id="daysOwnedDisplay" class="text-xs text-gray-500 mt-1 hidden"></p>
                  <div id="days-help" class="sr-only">
                    Select the date you bought this record â€” days owned is calculated automatically
                  </div>
                </div>

                <div>
                  <label class="block text-sm text-gray-400 mb-1 font-medium"
                    >Condition (Vinyl/Sleeve)</label
                  >
                  <div class="grid grid-cols-2 gap-2">
                    <div>
                      <label for="vinylConditionInput" class="sr-only"
                        >Vinyl Condition</label
                      >
                      <select
                        id="vinylConditionInput"
                        class="w-full px-3 py-2 bg-surface border border-gray-700 rounded-lg focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 text-sm transition-all"
                      >
                        <option value="M">Mint (M)</option>
                        <option value="NM">Near Mint (NM)</option>
                        <option value="VG+">Very Good+ (VG+)</option>
                        <option value="VG" selected>Very Good (VG)</option>
                        <option value="G+">Good+ (G+)</option>
                        <option value="G">Good (G)</option>
                      </select>
                    </div>
                    <div>
                      <label for="sleeveConditionInput" class="sr-only"
                        >Sleeve Condition</label
                      >
                      <select
                        id="sleeveConditionInput"
                        class="w-full px-3 py-2 bg-surface border border-gray-700 rounded-lg focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 text-sm transition-all"
                      >
                        <option value="M">Mint (M)</option>
                        <option value="NM">Near Mint (NM)</option>
                        <option value="VG+">Very Good+ (VG+)</option>
                        <option value="VG" selected>Very Good (VG)</option>
                        <option value="G+">Good+ (G+)</option>
                        <option value="G">Good (G)</option>
                      </select>
                    </div>
                  </div>
                  <div class="text-xs text-gray-500 mt-1">
                    Vinyl condition â€¢ Sleeve condition
                  </div>
                </div>

                <div>
                  <label
                    for="goalSelect"
                    class="block text-sm text-gray-400 mb-1 font-medium"
                    >Selling Strategy</label
                  >
                  <select
                    id="goalSelect"
                    class="w-full px-3 py-2 bg-surface border border-gray-700 rounded-lg focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 text-sm transition-all"
                  >
                    <option value="balanced">
                      Balanced (Fair price, reasonable time)
                    </option>
                    <option value="quick">
                      Quick Sale (Lower price, fast sale)
                    </option>
                    <option value="max">
                      Maximum Profit (Hold for best offer)
                    </option>
                  </select>
                  <div class="text-xs text-gray-500 mt-1">
                    Choose your preferred selling approach
                  </div>
                </div>

                <div>
                  <label
                    for="marketSelect"
                    class="block text-sm text-gray-400 mb-1 font-medium"
                    >Marketplace</label
                  >
                  <select
                    id="marketSelect"
                    class="w-full px-3 py-2 bg-surface border border-gray-700 rounded-lg focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 text-sm transition-all"
                  >
                    <option value="uk">ðŸ‡¬ðŸ‡§ eBay UK (Â£ GBP)</option>
                    <option value="us">ðŸ‡ºðŸ‡¸ eBay US ($ USD)</option>
                    <option value="eu">ðŸ‡ªðŸ‡º eBay EU (â‚¬ EUR)</option>
                  </select>
                  <div class="text-xs text-gray-500 mt-1">
                    Select your target marketplace
                  </div>
                </div>
              </div>

              <!-- Collection Data Indicator -->
              <div
                id="collectionDataIndicator"
                class="hidden p-3 bg-primary/10 border border-primary/30 rounded-lg"
              >
                <div class="flex items-center gap-2 text-sm text-primary">
                  <i data-feather="database" class="w-4 h-4"></i>
                  <span>Loaded from collection</span>
                </div>
                <p class="text-xs text-gray-500 mt-1">
                  Purchase data and ownership history included
                </p>
              </div>
            </div>
          </div>
          <!-- Action Buttons -->
          <div class="flex flex-wrap gap-3 mt-8 pt-6 border-t border-gray-700">
            <button
              id="generateListingBtn"
              class="px-6 py-3 bg-gradient-to-r from-primary to-purple-600 rounded-lg font-medium hover:shadow-lg hover:shadow-primary/25 transition-all flex items-center gap-2 focus:outline-none focus:ring-2 focus:ring-primary/50 disabled:opacity-50 disabled:cursor-not-allowed"
              aria-describedby="generate-help"
            >
              <i data-feather="zap" class="w-4 h-4"></i>
              <span id="generateBtnText">Generate Full Listing</span>
              <div
                id="generateSpinner"
                class="hidden w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"
              ></div>
            </button>
            <button
              id="draftAnalysisBtn"
              class="px-6 py-3 bg-surface border border-gray-600 rounded-lg font-medium hover:border-secondary hover:text-secondary transition-all flex items-center gap-2 focus:outline-none focus:ring-2 focus:ring-secondary/50 disabled:opacity-50 disabled:cursor-not-allowed"
              aria-describedby="draft-help"
            >
              <i data-feather="eye" class="w-4 h-4"></i>
              <span id="draftBtnText">Quick Preview</span>
              <div
                id="draftSpinner"
                class="hidden w-4 h-4 border-2 border-secondary/30 border-t-secondary rounded-full animate-spin"
              ></div>
            </button>
            <button
              id="requestHelpBtn"
              class="px-6 py-3 text-gray-400 hover:text-gray-200 transition-all flex items-center gap-2 ml-auto focus:outline-none focus:ring-2 focus:ring-gray-400/50"
              aria-label="Get help and support"
            >
              <i data-feather="help-circle" class="w-4 h-4"></i>
              <span class="hidden sm:inline">Need Help?</span>
            </button>
          </div>
          <div id="generate-help" class="sr-only">
            Generate a complete eBay listing with title, description, and
            pricing recommendations
          </div>
          <div id="draft-help" class="sr-only">
            Get a quick preview of the AI analysis without generating a full
            listing
          </div>
        </div>
      </section>

      <!-- Results Section (Hidden by default) -->
      <section id="resultsSection" class="hidden space-y-6">
        <!-- Title Options -->
        <div class="bg-surface-light rounded-xl p-6 border border-gray-800">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold flex items-center gap-2">
              <i data-feather="type" class="w-5 h-5 text-primary"></i>
              Optimized Title Options
            </h3>
            <span class="text-xs text-gray-500">Max 80 characters each</span>
          </div>
          <div id="titleOptions" class="space-y-3">
            <!-- Dynamically populated -->
          </div>
        </div>

        <!-- Pricing Strategy -->
        <div class="bg-surface-light rounded-xl p-6 border border-gray-800">
          <h3 class="text-lg font-semibold flex items-center gap-2 mb-4">
            <i data-feather="dollar-sign" class="w-5 h-5 text-accent"></i>
            Pricing Strategy & Comps
          </h3>
          <div id="pricingStrategy" class="grid md:grid-cols-2 gap-6">
            <!-- Dynamically populated -->
          </div>
        </div>

        <!-- Fee Floor Calculator -->
        <div class="bg-surface-light rounded-xl p-6 border border-gray-800">
          <h3 class="text-lg font-semibold flex items-center gap-2 mb-4">
            <i data-feather="shield" class="w-5 h-5 text-green-500"></i>
            "Don't Lose Money" Floor
          </h3>
          <div id="feeFloor" class="grid sm:grid-cols-4 gap-4">
            <!-- Dynamically populated -->
          </div>
        </div>

        <!-- HTML Description -->
        <div class="bg-surface-light rounded-xl p-6 border border-gray-800">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold flex items-center gap-2">
              <i data-feather="code" class="w-5 h-5 text-secondary"></i>
              eBay HTML Description
            </h3>
            <button
              id="copyHTMLBtn"
              class="px-3 py-1.5 bg-primary/20 text-primary rounded-lg text-sm hover:bg-primary/30 transition-colors flex items-center gap-2"
            >
              <i data-feather="copy" class="w-4 h-4"></i>
              Copy HTML
            </button>
          </div>
          <div class="relative">
            <textarea
              id="htmlOutput"
              rows="12"
              readonly
              class="w-full px-4 py-3 bg-surface border border-gray-700 rounded-lg font-mono text-sm text-gray-300 focus:outline-none resize-y"
            ></textarea>
          </div>
          <div
            class="mt-4 p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg"
          >
            <p class="text-sm text-yellow-400 flex items-start gap-2">
              <i
                data-feather="alert-triangle"
                class="w-4 h-4 mt-0.5 flex-shrink-0"
              ></i>
              <span
                >Preview this in eBay's listing editor before publishing. Some
                inline styles may need adjustment.</span
              >
            </p>
          </div>
        </div>

        <!-- Tags -->
        <div class="bg-surface-light rounded-xl p-6 border border-gray-800">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold flex items-center gap-2">
              <i data-feather="hash" class="w-5 h-5 text-pink-500"></i>
              eBay Item Specifics / Tags
            </h3>
            <button
              id="copyTagsBtn"
              class="px-3 py-1.5 bg-pink-500/20 text-pink-400 rounded-lg text-sm hover:bg-pink-500/30 transition-colors flex items-center gap-2"
            >
              <i data-feather="copy" class="w-4 h-4"></i>
              Copy Tags
            </button>
          </div>
          <div id="tagsOutput" class="flex flex-wrap gap-2">
            <!-- Dynamically populated -->
          </div>
        </div>
        <!-- Photo Shot List -->
        <div class="bg-surface-light rounded-xl p-6 border border-gray-800">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold flex items-center gap-2">
              <i data-feather="camera" class="w-5 h-5 text-orange-500"></i>
              Recommended Photo Shot List
            </h3>
            <button
              id="analyzePhotoTypesBtn"
              class="px-3 py-1.5 bg-orange-500/20 text-orange-400 rounded-lg text-sm hover:bg-orange-500/30 transition-colors flex items-center gap-2"
            >
              <i data-feather="refresh-cw" class="w-4 h-4"></i>
              Auto-Detect Shots
            </button>
          </div>
          <div id="shotList" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-3">
            <!-- Dynamically populated -->
          </div>
        </div>
      </section>

      <!-- Empty State / Help -->
      <section id="emptyState" class="text-center py-16">
        <div
          class="w-24 h-24 mx-auto mb-6 rounded-2xl bg-surface-light border border-gray-700 flex items-center justify-center"
        >
          <i data-feather="disc" class="w-12 h-12 text-gray-600"></i>
        </div>
        <h3 class="text-xl font-medium text-gray-300 mb-2">
          Ready to list your vinyl?
        </h3>
        <p class="text-gray-500 max-w-md mx-auto">
          Upload clear photos of your record and we'll analyze, grade, and
          generate a complete eBay listing with competitive pricing.
        </p>
      </section>
    </main>

    <!-- Footer -->
    <vinyl-footer></vinyl-footer>
    <!-- Components -->
    <script src="components/vinyl-nav.js"></script>
    <script src="components/vinyl-footer.js"></script>
    <script src="components/stat-card.js"></script>
    <script src="components/ocr-service.js"></script>
    <script src="components/enhanced-ocr-service.js"></script>
    <script src="components/discogs-service.js"></script>
    <script src="components/deepseek-service.js"></script>
    <script src="components/ai-chat.js"></script>
    <!-- Futuristic Features -->
    <script src="futuristic-features.js"></script>
    <!-- Main Script -->
    <script src="script.js"></script>
    <script>
      feather.replace();
    </script>
    <script src="https://huggingface.co/deepsite/deepsite-badge.js"></script>
    <!-- ElevenLabs Conversational AI Widget -->
    <elevenlabs-convai
      agent-id="agent_9101kgpbsbwkfazrdcnxxddsnk1c"
    ></elevenlabs-convai>
    <script
      src="https://unpkg.com/@elevenlabs/convai-widget-embed"
      async
      type="text/javascript"
    ></script>

    <!-- Widget Configuration Script -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const widget = document.querySelector("elevenlabs-convai");

        if (widget) {
          // Listen for the widget's "call" event to trigger client-side tools
          widget.addEventListener("elevenlabs-convai:call", (event) => {
            event.detail.config.clientTools = {
              // Client tool to redirect to external URLs
              redirectToExternalURL: ({ url }) => {
                window.open(url, "_blank", "noopener,noreferrer");
              },
            };
          });
        }
      });
    </script>
  </body>
</html>
